/* =====================*/
/* Vars                 */
/* =====================*/
:root{
  --star:  #facc15;   /* ë³„ ìƒ‰ */
  --brand: #0ea5e9;   /* í¬ì¸íŠ¸ ì»¬ëŸ¬ */
  --line:  #e5e7eb;   /* ê²½ê³„ì„  */
  --ink:   #0f172a;   /* ë³¸ë¬¸ ê¸€ì */
  --ink-2: #475569;   /* ë³´ì¡° ê¸€ì */
  --rec-size: 42px;   /* ì¶”ì²œ ì•„ì´ì½˜ í¬ê¸° */
}

/* =====================*/
/* Reviews (ì‘ì„± ì˜ì—­)  */
/* =====================*/
.reviews-section{
  background:#fff;
  border-radius:16px;
  padding:32px;
  margin:24px auto;
  max-width:1150px;
  box-shadow:0 24px 24px rgba(0,0,0,.06);
}

/* ì‘ì„± í¼: ì¢Œ=ë³„ì , ìš°=ì¶”ì²œ, ì•„ë˜=í…ìŠ¤íŠ¸/ë²„íŠ¼ */
.review-composer{
  display:grid;
  grid-template-columns: 1fr auto;
  grid-template-areas:
    "stars recommend"
    "text  text"
    "actions actions";
  gap:12px;
  background:#f1efef;
  border:1px solid var(--line);
  border-radius:12px;
  padding:16px;
}
.review-composer .row{ display:flex; align-items:center; gap:10px; }

.stars-row{ grid-area: stars; }
.recommend-row{ grid-area: recommend; justify-self:end; }

/* ë³„ì  */
.rating{
  display:inline-flex;
  flex-direction:row-reverse;
  gap:6px;
}
.rating input{ display:none; }
.rating label{
  font-size:28px; line-height:1;
  color:#9fb8d6;
  cursor:pointer; user-select:none;
}
.rating label::before{ content:"â˜…"; }
.rating input:checked ~ label,
.rating label:hover,
.rating label:hover ~ label{ color:#f59e0b; }

/* ì¶”ì²œ/ë¹„ì¶”ì²œ */
.recommend{ display:inline-flex; gap:8px; align-items:center; }
.recommend input[type="radio"]{ position:absolute; opacity:0; width:0; height:0; }
.recommend .chip{
  padding:8px 14px; border:1px solid #e5e7eb; border-radius:9999px;
  background:#fff; color:#374151; font-size:14px; line-height:1;
  cursor:pointer; user-select:none; transition:all .15s ease;
}
.recommend .chip:hover{ border-color:#cbd5e1; background:#f8fafc; }
.recommend input[type="radio"]:checked + label{
  border-color:var(--brand);
  background:rgba(14,165,233,.10);
  color:var(--brand);
  box-shadow:0 0 0 2px rgba(14,165,233,.10) inset;
}
.recommend .chip.yes::before{ content:"ğŸ‘ "; }
.recommend .chip.no::before { content:"ğŸ‘ "; }

/* í…ìŠ¤íŠ¸ë°•ìŠ¤ */
.review-composer textarea{
  grid-area:text;
  width:100%; max-width:100%; min-height:160px;
  padding:12px 14px;
  border:1px solid var(--line);
  border-radius:12px;
  outline:none; resize:vertical;
  font:inherit; color:var(--ink); background:#e2ebf1;
  box-sizing:border-box;
}
.review-composer textarea:focus{
  border-color:#93c5fd;
  box-shadow:0 0 0 3px rgba(59,130,246,.15);
}

/* ë²„íŠ¼ í–‰ */
.review-actions{
  grid-area:actions;
  display:flex; gap:10px; justify-content:flex-end;
}
.btn{
  height:40px; padding:0 14px; border-radius:10px;
  border:1px solid var(--line); background:#b4f0f8; color:var(--ink);
  font-weight:700; cursor:pointer; font-size:110%;
}
.btn:hover{ background:#7ff598; }
.review-actions .btn{
  display:inline-flex; align-items:center; justify-content:center;
  inline-size:110px; block-size:40px; padding:0 12px;
}

/* ì¢ì€ í™”ë©´ì—ì„œ ìœ„â†’ì•„ë˜ ì •ë ¬ */
@media (max-width:560px){
  .review-composer{
    grid-template-columns: 1fr;
    grid-template-areas:
      "stars"
      "recommend"
      "text"
      "actions";
  }
  .recommend-row{ justify-self:start; }
}

/* =====================*/
/* Reviews List (ì—´ëŒ)  */
/* =====================*/
.reviews-view{
  background:#fff;
  border-radius:16px;
  padding:24px;
  margin:16px auto 24px;
  max-width:1150px;
  box-shadow:0 6px 18px rgba(0,0,0,.06);
}

.reviews-toolbar{
  display:flex; justify-content:flex-end; gap:8px; margin-bottom:10px;
}
.sort-btn{
  height:34px; padding:0 12px; border-radius:10px;
  border:1px solid var(--line); background:#94a8bd; color:#fff;
  font-weight:700; cursor:pointer;
}
.sort-btn.active{ filter:brightness(.95); }

.review-list{ display:grid; gap:12px; }

/* 3ì—´: ì•„ë°”íƒ€ / ë³¸ë¬¸ / ìš°ì¸¡ì•„ì´ì½˜+ë³„ */
.review-card{
  display:grid;
  grid-template-columns: 56px 1fr 130px;
  align-items:start;
  gap:14px;
  padding:14px 16px;
  background:#fff;
  border:1px solid var(--line);
  border-radius:12px;
}

/* ì•„ë°”íƒ€ */
.review-card .avatar{
  width:56px; height:56px; border-radius:9999px; overflow:hidden;
  background:#e2e8f0; display:grid; place-items:center;
}
.review-card .avatar img{ width:100%; height:100%; object-fit:cover; display:block; }

/* ë³¸ë¬¸ ì˜ì—­ */
.review-meta{ display:grid; gap:8px; }
.review-headline{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
.review-user{ font-weight:800; color:var(--ink); }
.review-time{ color:var(--ink-2); font-size:13px; }
.review-content{ color:var(--ink); }

/* í•˜ë‹¨: ì¶”ì²œ/ë¹„ì¶”ì²œ ë²„íŠ¼ */
.review-actions-row{
  display:flex; gap:10px; align-items:center; flex-wrap:wrap;
  color:var(--ink-2); font-size:14px;
}
.vote-btn{
  display:inline-flex; align-items:center; gap:6px; cursor:pointer;
  padding:6px 10px; border:1px solid var(--line); border-radius:10px;
  background:#fff; font-weight:600;
}
.vote-btn:hover{ background:#f8fafc; }
.vote-btn .count{ min-width:1.5em; text-align:center; }

/* ìš°ì¸¡: ì¶”ì²œ ì•„ì´ì½˜ + ë³„ì  */
.review-side{
  display:grid; gap:8px; justify-items:center; align-content:center;
  min-width:110px;
}
.rec-icon{
  width:var(--rec-size); height:var(--rec-size);
  border-radius:9999px; display:grid; place-items:center;
  font-size:20px; user-select:none; border:1px solid var(--line);
}
.rec-yes{ background:rgba(16,185,129,.12); color:#10b981; }
.rec-no { background:rgba(239,68,68,.12);  color:#ef4444; }

.side-stars{ display:flex; gap:4px; font-size:18px; line-height:1; }
.side-stars .on{ color:var(--star); }
.side-stars .off{ color:#9fb8d6; }

/* ë”ë³´ê¸° */
.loadmore-btn{
  display:block; margin:8px auto 0; height:40px; padding:0 16px;
  border-radius:10px; border:1px solid var(--line); background:#fff; font-weight:700; cursor:pointer;
}
.loadmore-btn:hover{ background:#f8fafc; }

/* ë°˜ì‘í˜•: ìš°ì¸¡ ì—´ ì•„ë˜ë¡œ */
@media (max-width:720px){
  .review-card{ grid-template-columns:48px 1fr; }
  .review-side{ grid-column:1 / -1; justify-items:flex-start; align-content:start; }
}

/* ç¦ç”¨/é«˜äº®ï¼ˆé€šç”¨ï¼‰ */
.vote-btn[disabled], .vote-btn.disabled {
  opacity: .5;
  cursor: not-allowed;
  pointer-events: none;
}
/* â€”â€”æ›´å¼ºè¦†ç›–çš„å·²æŠ•ç¥¨é«˜äº®â€”â€” */
.vote-btn.active{
  border-color: var(--brand) !important;
  background: rgba(14,165,233,.10) !important;
  color: var(--brand) !important;
  box-shadow: 0 0 0 2px rgba(14,165,233,.10) inset !important;
}
.vote-btn.dislike.active{
  border-color: #ef4444 !important;
  background: rgba(239,68,68,.10) !important;
  color: #ef4444 !important;
  box-shadow: 0 0 0 2px rgba(239,68,68,.10) inset !important;
}

/* =====================*/
/* Replies (å›å¸–æ ·å¼)   */
/* =====================*/

/* çˆ¶è¯„è®ºä¸‹çš„å›å¸–å®¹å™¨ */
.replies{
  display: grid;
  gap: 10px;
  padding: 8px 0 4px 0;
}

/* â€”â€”æ‰å¹³åŒ–å›å¸–å¡ç‰‡â€”â€”
   å¤´åƒ / ä¸»ä½“ / å³ä¸ŠæŠ•ç¥¨ï¼ˆå°æŒ‰é’®ï¼‰
*/
.reply-card{
  display: grid;
  grid-template-columns: 40px 1fr auto;   /* æ›´æ‰å¹³ï¼šå¤´åƒæ›´å°ï¼Œå³ä¾§ä¸ºæŠ•ç¥¨ */
  gap: 8px;
  align-items: start;
  padding: 8px 10px;                       /* å‡å°å†…è¾¹è·ï¼Œæ›´æ‰å¹³ */
  border: 1px solid var(--line);
  border-radius: 10px;                      /* æ›´å°çš„åœ†è§’ */
  background: #fff;
}

/* å›å¸–å¤´åƒæ›´å° */
.reply-card .avatar{
  width:40px; height:40px;
  border-radius:9999px; overflow:hidden;
  background:#e2e8f0; display:grid; place-items:center;
}
.reply-card .avatar img{ width:100%; height:100%; object-fit:cover; display:block; }

/* å›å¸–ä¸»ä½“æ›´ç´§å‡‘ */
.reply-main{ display:grid; gap:4px; }
.reply-user{ font-weight:800; color:var(--ink); }
.reply-content{
  color:var(--ink);
  margin: 0;                 /* å»æ‰æ½œåœ¨ margin è®©æ•´ä½“æ›´ç´§å‡‘ */
  line-height: 1.35;         /* æ›´æ‰å¹³çš„è¡Œé«˜ */
}
.reply-time{ color:var(--ink-2); font-size:12px; }

/* å³ä¸Šè§’å°å·æŠ•ç¥¨æŒ‰é’®ï¼Œæ›´æ‰å¹³ */
.reply-actions-top{
  display:flex; gap:6px;
  justify-self:end; align-self:start;
}
.vote-btn.small{
  height:28px; padding:0 8px;               /* æ›´çŸ®æ›´çª„ */
  font-size:12px; line-height:28px;
  border-radius:8px;
}

/* ä¿é™©ï¼šå›å¸–ä¸æ˜¾ç¤ºå³ä¾§æ¨èå›¾æ ‡ä¸æ˜Ÿçº§ï¼ˆå³ä½¿æ¨¡æ¿è¯¯å¸¦ä¹Ÿéšè—ï¼‰ */
.reply-card .review-side{ display: none !important; }
/* === å›å¸–ç¼–è¾‘æ¡†ï¼šåšæˆæ‰å¹³é•¿æ–¹å½¢ï¼Œå®½åº¦å æ»¡ï¼Œå’Œå›å¸–å¡ç‰‡å°ºå¯¸æ¥è¿‘ === */
.replies .reply-form{
  border: 1px solid var(--line);
  background: #fff;
  border-radius: 12px;
  padding: 12px;
}

.replies .reply-form-row{
  display: grid;
  grid-template-columns: 1fr auto; /* å·¦ï¼štextarea å³ï¼šå‘é€æŒ‰é’® */
  gap: 10px;
  align-items: start;
}

.replies .reply-form textarea{
  width: 100%;
  min-height: 72px;            /* â† æƒ³æ›´é«˜å°±è°ƒè¿™ä¸ªæ•°ï¼Œä¾‹å¦‚ 88/96 */
  max-height: 240px;
  resize: vertical;
  box-sizing: border-box;
  padding: 10px 12px;
  border: 1px solid var(--line);
  border-radius: 10px;
  background: #f8fafc;
  color: var(--ink);
  font: inherit;
  outline: none;
}
.replies .reply-form textarea:focus{
  border-color:#93c5fd;
  box-shadow:0 0 0 3px rgba(59,130,246,.15);
}

/* å‘é€æŒ‰é’®ï¼ˆç»§æ‰¿ .btn çš„é£æ ¼ï¼Œä¿è¯é«˜åº¦å¯¹é½ï¼‰ */
.replies .reply-send{
  height: 40px;
  padding: 0 16px;
  border-radius: 10px;
  border: 1px solid var(--line);
  background: #b4f0f8;
  font-weight: 700;
  cursor: pointer;
}
.replies .reply-send:hover{ background:#7ff598; }

/* å°å±é€‚é…ï¼šæŒ‰é’®æ¢è¡Œåˆ°ä¸‹é¢ä¹Ÿèƒ½è´´è¾¹ */
@media (max-width: 560px){
  .replies .reply-form-row{
    grid-template-columns: 1fr;
    gap: 8px;
  }
}
.hidden { display: none !important; }
.replies[hidden] {
  display: none !important;
}
